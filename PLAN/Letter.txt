Rewrite anger.js using $#param; state machine

Sort out hint/weight ambiguity:
 For random nonterms, x=>y interpreted as weight=x,hint=""
 For human nonterms, x=>y interpreted as weight=null,hint=x
 In editor, call weight "Test" and hint "Hint"
 Do not show (or print) "Hint" field for computer, ever
 Always use weightExpr, never default to hint
 Rename CSS: "computerHint" -> "ruleWeight"
 Permanently set CSS class of "Test" to "ruleWeight" (formerly "computerHint")
 Parse hint as PText

Preamble should be fully RHS-like: allow NontermReference, ParamAssignment, ParamReference symbols.
 New symbol type, NontermPreamble
 Preamble is child 0, identifier is '/p' instead of '/rX/sY', still addressable in the tree (for pub/sub)
  i.e. preamble is present even before any other children expanded
 Update treeJSON(), expandFromTreeJSON() to deal with NontermPreamble nodes
 Update commit mechanism, so that it only hides preamble & older siblings, not all earlier nodes

Pause & commit should be defaults.
 Augment syntax with "parallel" (opposite of "pause") and "continue" (opposite of "commit").

Private nodes, whose immediate text children (preamble, placeholder, terminals) are only visible to owner


Save player ID in local storage

Auto-resize textarea to fit content (preamble, placeholder, expansions)
http://www.impressivewebs.com/textarea-auto-resize/

Allow arbitrary functions (ParamFunc eval'd in calling scope): $x => $y+$z; (global)  or $x @=> $y+$z; (local)

Role assignment ideas:
 Allow sym_modifiers in grammar (NontermReference in code) to specify a role that overrides nonterminal role
  e.g. "@battle#2" or "@test#3;"
 In Node constructor, parentRole should be replaced by olderSiblingOrParentRole
  i.e. "#=", "#+" and "#-" should be relative to older sibling's role, where available
  this makes for a fairer distribution of turns

Extend $variable[$#] pseudo-array syntax to allow any index, dynamically computed
  This will require a new kind of ParamAssignment e.g. ArrayParamAssignment, where array index is a ParamFunc
   Ditto a new kind of ParamReference e.g. ArrayParamReference

Role names
 e.g. "roles {Optimist Pessimist}" as alternative syntax to "roles 2"
  can then refer to roles by name e.g. "#Optimist" instead of "#1"
 Drag-and-drop editable role list for Editor
  auto-replace of role names throughout text, when edited

Add missing auto-renaming functionality to Editor (ParamAssignments & ParamReferences in rhs of rules)
